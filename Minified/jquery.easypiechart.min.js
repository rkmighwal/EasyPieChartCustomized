/**!
 * easyPieChart
 * Lightweight plugin to render simple, animated and retina optimized pie charts
 *
 * @license Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)
 * @version 2.1.3 v2
 * @modifier Rohit Mighwal <rkmighwal@gmail.com>
 **/
!function(a,b){"object"==typeof exports?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define("EasyPieChart",["jquery"],b):b(a.jQuery)}(this,function(a){var CanvasRenderer=function(b,k){var i;var c=document.createElement("canvas");if(typeof(G_vmlCanvasManager)!=="undefined"){G_vmlCanvasManager.initElement(c)}var j=c.getContext("2d");c.width=c.height=k.size;b.appendChild(c);var h=1;if(window.devicePixelRatio>1){h=window.devicePixelRatio;c.style.width=c.style.height=[k.size,"px"].join("");c.width=c.height=k.size*h;j.scale(h,h)}j.translate(k.size/2,k.size/2);j.rotate((-1/2+k.rotate/180)*Math.PI);var f=(k.size-k.lineWidth)/2;if(k.scaleColor&&k.scaleLength){f-=k.scaleLength+2}Date.now=Date.now||function(){return +(new Date())};var g=function(o,l,p,n){p=Math.min(Math.max(-1,p||0),1);var m=p<=0?true:false;j.beginPath();j.arc(0,0,n?(f-Math.ceil(k.lineWidth/2))+Math.floor(k.borderWidth/2):f,0,Math.PI*2*p,m);j.strokeStyle=o;j.lineWidth=l;j.stroke()};var a=function(){var n;var m;var l=24;j.lineWidth=1;j.fillStyle=k.scaleColor;j.save();for(var l=24;l>0;--l){if(l%6===0){m=k.scaleLength;n=0}else{m=k.scaleLength*0.6;n=k.scaleLength-m}j.fillRect(-k.size/2+n,0,m,1);j.rotate(Math.PI/12)}j.restore()};var e=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(l){window.setTimeout(l,1000/60)}}());var d=function(){k.scaleColor&&a();k.borderColor&&g(k.borderColor,k.borderWidth,1,true);k.trackColor&&g(k.trackColor,k.borderColor?(k.lineWidth-k.borderWidth):k.lineWidth,1,false)};this.clear=function(){j.clearRect(k.size/-2,k.size/-2,k.size,k.size)};this.draw=function(m){if(!!k.scaleColor||!!k.trackColor){if(j.getImageData&&j.putImageData){if(!i){d();i=j.getImageData(0,0,k.size*h,k.size*h)}else{j.putImageData(i,0,0)}}else{this.clear();d()}}else{this.clear()}j.lineCap=k.lineCap;var l;if(typeof(k.barColor)==="function"){l=k.barColor(m)}else{l=k.barColor}g(l,k.borderColor?(k.lineWidth-k.borderWidth):k.lineWidth,m/100,false)}.bind(this);this.animate=function(o,n){var l=Date.now();k.onStart(o,n);var m=function(){var q=Math.min(Date.now()-l,k.animate);var p=k.easing(this,q,o,n-o,k.animate);this.draw(p);k.onStep(o,n,p);if(q>=k.animate){k.onStop(o,n)}else{e(m)}}.bind(this);e(m)}.bind(this)};var EasyPieChart=function(d,e){var a={barColor:"#ef1e25",trackColor:"#f9f9f9",borderColor:"#000",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,borderWidth:1,size:110,rotate:0,animate:1000,easing:function(h,i,g,k,j){i=i/(j/2);if(i<1){return k/2*i*i+g}return -k/2*((--i)*(i-2)-1)+g},onStart:function(h,g){return},onStep:function(i,h,g){return},onStop:function(h,g){return}};if(typeof(CanvasRenderer)!=="undefined"){a.renderer=CanvasRenderer}else{if(typeof(SVGRenderer)!=="undefined"){a.renderer=SVGRenderer}else{throw new Error("Please load either the SVG- or the CanvasRenderer")}}var b={};var c=0;var f=function(){this.el=d;this.options=b;for(var g in a){if(a.hasOwnProperty(g)){b[g]=e&&typeof(e[g])!=="undefined"?e[g]:a[g];if(typeof(b[g])==="function"){b[g]=b[g].bind(this)}}}if(typeof(b.easing)==="string"&&typeof(jQuery)!=="undefined"&&jQuery.isFunction(jQuery.easing[b.easing])){b.easing=jQuery.easing[b.easing]}else{b.easing=a.easing}this.renderer=new b.renderer(d,b);this.renderer.draw(c);if(d.dataset&&d.dataset.percent){this.update(parseFloat(d.dataset.percent))}else{if(d.getAttribute&&d.getAttribute("data-total")&&d.getAttribute("data-obtained")){this.update((parseFloat(d.getAttribute("data-obtained"))/parseFloat(d.getAttribute("data-total")))*100)}else{if(d.getAttribute&&d.getAttribute("data-total")){this.update(parseFloat(d.getAttribute("data-total")))}else{if(d.getAttribute&&d.getAttribute("data-percent")){this.update(parseFloat(d.getAttribute("data-percent")))}}}}}.bind(this);this.update=function(g){g=parseFloat(g);if(b.animate){this.renderer.animate(c,g)}else{this.renderer.draw(g)}c=g;return this}.bind(this);f()};$.fn.easyPieChart=function(a){return this.each(function(){var b;if(!$.data(this,"easyPieChart")){b=$.extend({},a,$(this).data());$.data(this,"easyPieChart",new EasyPieChart(this,b))}})}});